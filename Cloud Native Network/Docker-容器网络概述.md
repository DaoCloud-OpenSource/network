## Docker 容器网络概述
- 四种模式
  1. `--net=host`
  2. `--net=container:NAME_or_ID`
  3. `--net=none`
  4. `--net=bridge` （默认）

### bridge
- bridge 模式下，Docker Daemon 首次启动时会创建一个虚拟网桥，默认名称为 docker0，然后在私有网络空间给这个网桥分配一个子网。每创建一个容器都会创建一个 Veth 设备对，一端关联到网桥，另一端通过网络命名空间映射到容器内的 eth0 设备，然后在网桥的地址段内给 eth0 接口分配一个 IP 地址。
- 网桥的IP地址，Docker Daemon 会在几个备选地址段里给它选一个地址，通常是以 172 开头的一个地址， 这个地址和主机的 IP 地址是不重叠的。容器 IP 地址是 Docker 启动容器时在这个地址段选择的一个没有使用的 IP 地址，相应的 MAC 地址也根据这个 IP 地址，在 02:42:ac:11:00:00 和 02:42:ac:11:ff:ff 的范围内生成，这样做可以确保不会有ARP冲突。
- 启动后，Docker 还将 Veth 设备对的名称映射到 eth0 网络接口。一般情况下，网桥、容器所在子网和主机是不同的 IP 段，所以在默认不做任何特殊配置的情况下，在外部是看不到容器网络的。

### host
- 和宿主机共用一个 Network Namespace
- 容器不会虚拟出自己的网卡，配置自己的 IP 等，而是使用与主机相同的网络协议栈，容器可以直接使用主机的所有网络接口。
- 容器中的进程不用任何 NAT 转换，就像直接跑在宿主机中一样。但是，容器的其他方面，如文件系统、进程列表等还是和宿主机隔离的。